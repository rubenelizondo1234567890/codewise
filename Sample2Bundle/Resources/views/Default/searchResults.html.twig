{% extends "AppBundle::layout.html.twig" %}

{% block title %}
    RETS Bundle -- Search Results
{% endblock %}

{% block additional_stylesheets %}
    <link rel="stylesheet" type="text/css" href="//cdn.datatables.net/1.10.12/css/jquery.dataTables.min.css">
{% endblock %}

{% block body %}
      <div class="container">
      <div class="row">
        <h3>RETS Search Results</h3><br/>
        <h4>State => {{State}}</h4>
        <h4>Type => {{Property}}</h4>
        <h4>MLSClass => {{type}}</h4>
        <h4>QueryString => {{query}}</h4>
      </div>
<div class="row">
    <div class="table-responsive">
    <table id="example" class="display" cellspacing="0" width="100%">
        <thead>
            <tr>
                <th>MLS #</th>
                <th>Address</th>
                <th>City</th>
                <th>ZIP</th>
                <th>List Agent</th>
                <th>Agent Phone</th>
                <th>Status</th>
                <th>List price</th>
                <th>Map</th>
            </tr>
        </thead>
        <tfoot>
            <tr>
                <th>MLS #</th>
                <th>Address</th>
                <th>City</th>
                <th>ZIP</th>
                <th>List Agent</th>
                <th>Agent Phone</th>
                <th>Status</th>
                <th>List price</th>
                <th>Map</th>
            </tr>
        </tfoot>
        <tbody>
        {% for entity in entities %}
            <tr>
                <td><a href="#">{{ entity.MLSNumber }}</a></td>
                <td>{{ entity.StreetNumber }} {{ entity.StreetName }} {{ entity.StreetSuffix }}</td>
                <td>{{ entity.City }} State: {{ entity.StateOrProvince }}</td>
                <td>{{ entity.PostalCode }}</td>
                <td>{{ entity.ListAgentFullName }}</td>
                <td>{{ entity.ListAgentDirectWorkPhone }}</td>
                <td>{{ entity.Status }}</td>
                <td>${{ entity.ListPrice | number_format(2, '.', ',') }}</td>
                <td><a class="btn btn-default" href="#">show Map</a></td>
            </tr>
        {% endfor %}
        </tbody>
    </table>
    </div>
</div>
</div>
{% endblock %}

{% block additional_scripts %}
<script src="//cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js" type="text/javascript" ></script>

<script>
    $(document).ready(function() {
    $('#example').DataTable();
} );
</script>

</script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=YOUR_API_KEY&callback=initMap"></script>

{% endblock %}